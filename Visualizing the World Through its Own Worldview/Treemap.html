<!DOCTYPE html>
<style>
  form {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  }

  svg {
    font: 10px sans-serif;
  }
</style>
<svg width="960" height="570"></svg>
<form>
  <label><input type="radio" name="mode" value="sumBySize" checked> Size</label>
  <label><input type="radio" name="mode" value="sumByCount"> Count</label>
</form>
<script src="https://d3js.org/d3.v4.min.js"></script>
<svg id="legend" width="1400" height="300">
  <g>
    <g font-family="sans-serif" font-size="10" text-anchor="end" transform="translate(0, 0)">
    <text transform="translate(300, 0)" font-size="20" x="1000" y="10" dy="0.5em">Test!</text>
    <g transform="translate(0,0)">
      <rect x="1281" width="19" height="19" fill="#00441b">
      </rect>
      <text x="1276" y="9.5" dy="0.32em">Very happy</text>
    </g>
    <g transform="translate(0,20)"><rect x="1281" width="19" height="19" fill="#006d2c"></rect><text x="1276" y="9.5" dy="0.32em">Rather happy</text></g><g transform="translate(0,40)"><rect x="1281" width="19" height="19" fill="#238b45"></rect><text x="1276" y="9.5" dy="0.32em">Not very happy</text></g><g transform="translate(0,60)"><rect x="1281" width="19" height="19" fill="#41ae76"></rect><text x="1276" y="9.5" dy="0.32em">Not at all happy</text></g><g transform="translate(0,80)"><rect x="1281" width="19" height="19" fill="#66c2a4"></rect><text x="1276" y="9.5" dy="0.32em">Others</text></g></g><g font-family="sans-serif" font-size="10" text-anchor="end" transform="translate(-150, 0)"><text transform="translate(300, 0)" font-size="20">Test!</text><g transform="translate(0,0)"><rect x="1281" width="19" height="19" fill="#4d004b"></rect><text x="1276" y="9.5" dy="0.32em">Very important</text></g><g transform="translate(0,20)"><rect x="1281" width="19" height="19" fill="#810f7c"></rect><text x="1276" y="9.5" dy="0.32em">Rather important</text></g><g transform="translate(0,40)"><rect x="1281" width="19" height="19" fill="#88419d"></rect><text x="1276" y="9.5" dy="0.32em">Not very important</text></g><g transform="translate(0,60)"><rect x="1281" width="19" height="19" fill="#8c6bb1"></rect><text x="1276" y="9.5" dy="0.32em">Not at all important</text></g></g><g font-family="sans-serif" font-size="10" text-anchor="end" transform="translate(-300, 0)"><text transform="translate(300, 0)" font-size="20">Test!</text><g transform="translate(0,0)"><rect x="1281" width="19" height="19" fill="#084081"></rect><text x="1276" y="9.5" dy="0.32em">1</text></g><g transform="translate(0,20)"><rect x="1281" width="19" height="19" fill="#0868ac"></rect><text x="1276" y="9.5" dy="0.32em">2</text></g><g transform="translate(0,40)"><rect x="1281" width="19" height="19" fill="#2b8cbe"></rect><text x="1276" y="9.5" dy="0.32em">3</text></g><g transform="translate(0,60)"><rect x="1281" width="19" height="19" fill="#4eb3d3"></rect><text x="1276" y="9.5" dy="0.32em">4</text></g><g transform="translate(0,80)"><rect x="1281" width="19" height="19" fill="#7bccc4"></rect><text x="1276" y="9.5" dy="0.32em">5</text></g><g transform="translate(0,100)"><rect x="1281" width="19" height="19" fill="#a8ddb5"></rect><text x="1276" y="9.5" dy="0.32em">6</text></g><g transform="translate(0,120)"><rect x="1281" width="19" height="19" fill="#ccebc5"></rect><text x="1276" y="9.5" dy="0.32em">7</text></g><g transform="translate(0,140)"><rect x="1281" width="19" height="19" fill="#e0f3db"></rect><text x="1276" y="9.5" dy="0.32em">8</text></g><g transform="translate(0,160)"><rect x="1281" width="19" height="19" fill="#e0ecf4"></rect><text x="1276" y="9.5" dy="0.32em">9</text></g><g transform="translate(0,180)"><rect x="1281" width="19" height="19" fill="#f7fcf0"></rect><text x="1276" y="9.5" dy="0.32em">10</text></g></g></g></svg>